// Prompts for AI-powered astrology report generation

export interface UserDataForPrompt {
  gender: string;
  birthDate: string;
  birthTime?: string;
  birthPlace?: string;
  sunSign: string;
  moonSign: string;  // Can be '–Ω–µ–≤—ñ–¥–æ–º–æ' if birth time not provided
  risingSign: string; // Can be '–Ω–µ–≤—ñ–¥–æ–º–æ' if birth place not provided
  goals?: string[];
  relationshipStatus?: string;
  favoriteColor?: string;
  element?: string;
  lang?: 'uk' | 'en';
}

// Verification result type
export interface ZodiacVerificationResult {
  isValid: boolean;
  calculatedSign: string;
  warning?: string;
}

// Language-specific text
const LANG_TEXT = {
  uk: {
    astrologer: '–¢–∏ ‚Äî –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π –∞—Å—Ç—Ä–æ–ª–æ–≥ –∑ 30-—Ä—ñ—á–Ω–∏–º —Å—Ç–∞–∂–µ–º',
    male: '–ß–æ–ª–æ–≤—ñ–∫',
    female: '–ñ—ñ–Ω–∫–∞',
    nonBinary: '–ù–µ–±—ñ–Ω–∞—Ä–Ω–∞ –æ—Å–æ–±–∏—Å—Ç—ñ—Å—Ç—å',
    unknown: '–Ω–µ–≤—ñ–¥–æ–º–æ',
    notSpecified: '–Ω–µ –≤–∫–∞–∑–∞–Ω–æ',
    generateIn: '–ì–µ–Ω–µ—Ä—É–π –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –£–ö–†–ê–á–ù–°–¨–ö–û–Æ –º–æ–≤–æ—é',
  },
  en: {
    astrologer: 'You are an experienced astrologer with 30 years of practice',
    male: 'Male',
    female: 'Female',
    nonBinary: 'Non-binary',
    unknown: 'unknown',
    notSpecified: 'not specified',
    generateIn: 'Generate all content in ENGLISH language',
  },
};

export function buildAstroReportPrompt(userData: UserDataForPrompt): string {
  const lang = userData.lang || 'uk';
  const t = LANG_TEXT[lang];
  
  const goalsText = userData.goals?.length 
    ? userData.goals.join(', ') 
    : lang === 'uk' ? '–∑–∞–≥–∞–ª—å–Ω–∏–π –æ—Å–æ–±–∏—Å—Ç–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫' : 'general personal development';
    
  const goalsMapping: Record<string, Record<string, string>> = {
    uk: {
      'love': '–∫–æ—Ö–∞–Ω–Ω—è —Ç–∞ —Å—Ç–æ—Å—É–Ω–∫–∏',
      'career': "–∫–∞—Ä'—î—Ä–∞ —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫",
      'health': "–∑–¥–æ—Ä–æ–≤'—è —Ç–∞ —Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è",
      'finance': '—Ñ—ñ–Ω–∞–Ω—Å–∏ —Ç–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–∏–π –¥–æ–±—Ä–æ–±—É—Ç',
      'spiritual': '–¥—É—Ö–æ–≤–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫ —Ç–∞ —Å–∞–º–æ–ø—ñ–∑–Ω–∞–Ω–Ω—è',
      'future': '–º–∞–π–±—É—Ç–Ω—î —Ç–∞ –∂–∏—Ç—Ç—î–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è',
    },
    en: {
      'love': 'love and relationships',
      'career': 'career and professional development',
      'health': 'health and wellbeing',
      'finance': 'finances and material prosperity',
      'spiritual': 'spiritual growth and self-discovery',
      'future': 'future and life decisions',
    },
  };
  
  const translatedGoals = userData.goals?.map(g => goalsMapping[lang][g] || g).join(', ');

  const colorMeanings: Record<string, Record<string, string>> = {
    uk: {
      'red': '–ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç—å, –µ–Ω–µ—Ä–≥—ñ—è, –¥—ñ—è',
      'blue': '—Å–ø–æ–∫—ñ–π, –º—É–¥—Ä—ñ—Å—Ç—å, –¥–æ–≤—ñ—Ä–∞',
      'green': '–≥–∞—Ä–º–æ–Ω—ñ—è, –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è, –±–∞–ª–∞–Ω—Å',
      'purple': '–¥—É—Ö–æ–≤–Ω—ñ—Å—Ç—å, —ñ–Ω—Ç—É—ó—Ü—ñ—è, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è',
      'gold': '—É—Å–ø—ñ—Ö, –¥–æ—Å—Ç–∞—Ç–æ–∫, –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å',
      'teal': '—ñ–Ω—Ç—É—ó—Ü—ñ—è, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å, –∑—Ü—ñ–ª–µ–Ω–Ω—è',
    },
    en: {
      'red': 'passion, energy, action',
      'blue': 'calm, wisdom, trust',
      'green': 'harmony, growth, balance',
      'purple': 'spirituality, intuition, transformation',
      'gold': 'success, abundance, confidence',
      'teal': 'intuition, creativity, healing',
    },
  };

  const relationshipContext: Record<string, Record<string, string>> = {
    uk: {
      'single': '–≤—ñ–ª—å–Ω–∏–π/–Ω–∞, –≤—ñ–¥–∫—Ä–∏—Ç–∏–π/–∞ –¥–æ –Ω–æ–≤–∏—Ö —Å—Ç–æ—Å—É–Ω–∫—ñ–≤',
      'dating': '—É —Å—Ç–æ—Å—É–Ω–∫–∞—Ö, —à—É–∫–∞—î –≥–ª–∏–±—à–∏–π –∑–≤\'—è–∑–æ–∫',
      'married': '—É —à–ª—é–±—ñ, —Ü—ñ–Ω—É—î —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å',
      'complicated': '—É —Å–∫–ª–∞–¥–Ω–∏–π –ø–µ—Ä—ñ–æ–¥ —É —Å—Ç–æ—Å—É–Ω–∫–∞—Ö',
    },
    en: {
      'single': 'single, open to new relationships',
      'dating': 'in a relationship, seeking deeper connection',
      'married': 'married, values stability',
      'complicated': 'in a complicated relationship period',
    },
  };

  // Check if Moon/Rising are unknown
  const isMoonUnknown = userData.moonSign === '–Ω–µ–≤—ñ–¥–æ–º–æ' || userData.moonSign === 'unknown';
  const isRisingUnknown = userData.risingSign === '–Ω–µ–≤—ñ–¥–æ–º–æ' || userData.risingSign === 'unknown';

  const moonInstruction = isMoonUnknown 
    ? (lang === 'uk' ? '–ú—ñ—Å—è—á–Ω–∏–π –∑–Ω–∞–∫ –Ω–µ–≤—ñ–¥–æ–º–∏–π - –≥–µ–Ω–µ—Ä—É–π –∑–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –µ–º–æ—Ü—ñ–π–Ω–æ—ó —Å—Ñ–µ—Ä–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –°–æ–Ω—è—á–Ω–æ–≥–æ –∑–Ω–∞–∫—É' : 'Moon sign is unknown - generate general emotional description based on Sun sign')
    : '';
  
  const risingInstruction = isRisingUnknown
    ? (lang === 'uk' ? '–ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç –Ω–µ–≤—ñ–¥–æ–º–∏–π - –≥–µ–Ω–µ—Ä—É–π –∑–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –ø—Ä–æ—è–≤—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –°–æ–Ω—è—á–Ω–æ–≥–æ –∑–Ω–∞–∫—É' : 'Rising sign is unknown - generate general external presentation based on Sun sign')
    : '';

  return `
${t.astrologer}, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∞—Å—Ç—Ä–æ–ª–æ–≥—ñ—á–Ω—ñ –∑–≤—ñ—Ç–∏. –ö–æ–∂–µ–Ω –∑–≤—ñ—Ç –º–∞—î –±—É—Ç–∏ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ –Ω–∞–¥–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

**–ú–û–í–ê: ${t.generateIn}**

## üìã –ü–û–í–ù–ò–ô –ü–†–û–§–Ü–õ–¨ –ö–û–†–ò–°–¢–£–í–ê–ß–ê:

### –ë–∞–∑–æ–≤—ñ –¥–∞–Ω—ñ:
- **–°—Ç–∞—Ç—å:** ${userData.gender === 'male' ? t.male : userData.gender === 'female' ? t.female : t.nonBinary}
- **–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è:** ${userData.birthDate}
- **–ß–∞—Å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è:** ${userData.birthTime || t.unknown}
- **–ú—ñ—Å—Ü–µ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è:** ${userData.birthPlace || t.unknown}

### –ê—Å—Ç—Ä–æ–ª–æ–≥—ñ—á–Ω–∏–π –ø—Ä–æ—Ñ—ñ–ª—å:
- **‚òÄÔ∏è –°–æ–Ω—è—á–Ω–∏–π –∑–Ω–∞–∫:** ${userData.sunSign} (–æ—Å–Ω–æ–≤–Ω–∞ —Å—É—Ç–Ω—ñ—Å—Ç—å, –µ–≥–æ, –∂–∏—Ç—Ç—î–≤–∞ –º—ñ—Å—ñ—è)
- **üåô –ú—ñ—Å—è—á–Ω–∏–π –∑–Ω–∞–∫:** ${isMoonUnknown ? t.unknown : userData.moonSign} ${moonInstruction}
- **‚¨ÜÔ∏è –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç:** ${isRisingUnknown ? t.unknown : userData.risingSign} ${risingInstruction}

### –ü—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω–∏–π –ø—Ä–æ—Ñ—ñ–ª—å:
- **–°—Ç–∞—Ç—É—Å –≤—ñ–¥–Ω–æ—Å–∏–Ω:** ${relationshipContext[lang][userData.relationshipStatus || ''] || t.notSpecified}
- **–ñ–∏—Ç—Ç—î–≤—ñ —Ü—ñ–ª—ñ:** ${translatedGoals || t.notSpecified}
- **–£–ª—é–±–ª–µ–Ω–∏–π –∫–æ–ª—ñ—Ä:** ${userData.favoriteColor ? `${userData.favoriteColor} (${colorMeanings[lang][userData.favoriteColor] || ''})` : t.notSpecified}
- **–†–µ–∑–æ–Ω—É—é—á–∞ —Å—Ç–∏—Ö—ñ—è:** ${userData.element === 'fire' ? '–í–æ–≥–æ–Ω—å üî•' : userData.element === 'water' ? '–í–æ–¥–∞ üíß' : userData.element === 'earth' ? '–ó–µ–º–ª—è üåç' : userData.element === 'air' ? '–ü–æ–≤—ñ—Ç—Ä—è üí®' : t.notSpecified}

## üéØ –ö–†–ò–¢–ò–ß–ù–Ü –í–ò–ú–û–ì–ò –î–û –ü–ï–†–°–û–ù–ê–õ–Ü–ó–ê–¶–Ü–á:

1. **–ö–æ–º–±—ñ–Ω–∞—Ü—ñ—è –∑–Ω–∞–∫—ñ–≤** ‚Äî –ê–Ω–∞–ª—ñ–∑—É–π –≤–∑–∞—î–º–æ–¥—ñ—é –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –∑–Ω–∞–∫—ñ–≤:
   - "${userData.sunSign} –°–æ–Ω—Ü–µ –¥–∞—î –æ—Å–Ω–æ–≤—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É"
   ${!isMoonUnknown ? `- "${userData.moonSign} –ú—ñ—Å—è—Ü—å –≤–ø–ª–∏–≤–∞—î –Ω–∞ –µ–º–æ—Ü—ñ–π–Ω—ñ —Ä–µ–∞–∫—Ü—ñ—ó"` : ''}
   ${!isRisingUnknown ? `- "${userData.risingSign} –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç —Ñ–æ—Ä–º—É—î –ø–µ—Ä—à–µ –≤—Ä–∞–∂–µ–Ω–Ω—è"` : ''}

2. **–¶—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞** ‚Äî —Ñ–æ–∫—É—Å—É–π –ø—Ä–æ–≥–Ω–æ–∑–∏ —Ç–∞ –ø–æ—Ä–∞–¥–∏ –Ω–∞: ${translatedGoals || '–∑–∞–≥–∞–ª—å–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫'}
   ${userData.goals?.includes('love') ? '- –£ —Ä–æ–∑–¥—ñ–ª—ñ Love –ø—Ä–∏–¥—ñ–ª–∏ –û–°–û–ë–õ–ò–í–£ —É–≤–∞–≥—É, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞' : ''}
   ${userData.goals?.includes('career') ? '- –£ —Ä–æ–∑–¥—ñ–ª—ñ Career –¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—ñ –ø–æ—Ä–∞–¥–∏, —Ü–µ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞' : ''}
   ${userData.goals?.includes('finance') ? '- –î–æ–¥–∞–π –±—ñ–ª—å—à–µ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –ø–æ—Ä–∞–¥ —Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑—ñ–≤' : ''}

3. **–°—Ç–∞—Ç—É—Å –≤—ñ–¥–Ω–æ—Å–∏–Ω** ‚Äî –∞–¥–∞–ø—Ç—É–π –ª—é–±–æ–≤–Ω–∏–π —Ä–æ–∑–¥—ñ–ª:
   ${userData.relationshipStatus === 'single' ? '- –ó–æ—Å–µ—Ä–µ–¥—å—Å—è –Ω–∞ –ø–æ—à—É–∫—É –ø–∞—Ä—Ç–Ω–µ—Ä–∞, –¥–µ —ñ –∫–æ–ª–∏ –º–æ–∂–µ –≤—ñ–¥–±—É—Ç–∏—Å—è –≤–∞–∂–ª–∏–≤–∞ –∑—É—Å—Ç—Ä—ñ—á' : ''}
   ${userData.relationshipStatus === 'married' ? '- –ó–æ—Å–µ—Ä–µ–¥—å—Å—è –Ω–∞ –∑–º—ñ—Ü–Ω–µ–Ω–Ω—ñ –Ω–∞—è–≤–Ω–∏—Ö —Å—Ç–æ—Å—É–Ω–∫—ñ–≤ —Ç–∞ –ø–æ–¥–æ–ª–∞–Ω–Ω—ñ —Ä—É—Ç–∏–Ω–∏' : ''}
   ${userData.relationshipStatus === 'complicated' ? '- –î–∞–π –º—É–¥—Ä—ñ –ø–æ—Ä–∞–¥–∏ —â–æ–¥–æ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ —Ç–∞ –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å' : ''}

4. **–û–±—Ä–∞–Ω–∞ —Å—Ç–∏—Ö—ñ—è** ‚Äî —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±—Ä–∞–≤ —Å—Ç–∏—Ö—ñ—é, –≤—ñ–¥–º—ñ–Ω–Ω—É –≤—ñ–¥ —Å—Ç–∏—Ö—ñ—ó —Å–≤–æ–≥–æ –°–æ–Ω—è—á–Ω–æ–≥–æ –∑–Ω–∞–∫—É, —Ü–µ –≤–∫–∞–∑—É—î –Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –∞–±–æ –ø—Ä–∞–≥–Ω–µ–Ω–Ω—è –¥–æ –±–∞–ª–∞–Ω—Å—É. –ü—Ä–æ–∫–æ–º–µ–Ω—Ç—É–π —Ü–µ.

## üìÖ –ê–°–¢–†–û–õ–û–ì–Ü–ß–ù–ò–ô –ö–û–ù–¢–ï–ö–°–¢ 2026:

- **–Æ–ø—ñ—Ç–µ—Ä:** —É –ë–ª–∏–∑–Ω—é–∫–∞—Ö –¥–æ —á–µ—Ä–≤–Ω—è ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —É –†–∞–∫–∞ (–∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó ‚Üí —Å—ñ–º'—è)
- **–°–∞—Ç—É—Ä–Ω:** —É –†–∏–±–∞—Ö –≤–µ—Å—å —Ä—ñ–∫ (–¥—É—Ö–æ–≤–Ω–∞ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞, –∫–∞—Ä–º—ñ—á–Ω—ñ —É—Ä–æ–∫–∏)
- **–ü–ª—É—Ç–æ–Ω:** —É –í–æ–¥–æ–ª—ñ—ó (—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è —Å—É—Å–ø—ñ–ª—å—Å—Ç–≤–∞, —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó)
- **–†–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–∏–π –ú–µ—Ä–∫—É—Ä—ñ–π:** —Å—ñ—á–µ–Ω—å, –∫–≤—ñ—Ç–µ–Ω—å-—Ç—Ä–∞–≤–µ–Ω—å, —Å–µ—Ä–ø–µ–Ω—å-–≤–µ—Ä–µ—Å–µ–Ω—å, –≥—Ä—É–¥–µ–Ω—å
- **–ó–∞—Ç–µ–º–Ω–µ–Ω–Ω—è:** –±–µ—Ä–µ–∑–µ–Ω—å (–º—ñ—Å—è—á–Ω–µ), –≤–µ—Ä–µ—Å–µ–Ω—å (—Å–æ–Ω—è—á–Ω–µ)

## üìù –§–û–†–ú–ê–¢ –í–Ü–î–ü–û–í–Ü–î–Ü:

–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¢–Ü–õ–¨–ö–ò —á–∏—Å—Ç–∏–º JSON –±–µ–∑ markdown, –±–µ–∑ \`\`\`json:

{
  "personalIntro": "–£–Ω—ñ–∫–∞–ª—å–Ω–µ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –¥–ª—è —Ü—ñ—î—ó –ª—é–¥–∏–Ω–∏, –∑–≥–∞–¥–∞–π –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é —ó—Ö –∑–Ω–∞–∫—ñ–≤ (2-3 —Ä–µ—á–µ–Ω–Ω—è)",
  "sunDescription": "–ì–ª–∏–±–æ–∫–∏–π –æ–ø–∏—Å ${userData.sunSign} –°–æ–Ω—Ü—è –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Å—Ç–∞—Ç—ñ —Ç–∞ —Ü—ñ–ª–µ–π (5-6 —Ä–µ—á–µ–Ω—å, –¥–µ—Ç–∞–ª—å–Ω–æ)",
  "moonDescription": "${isMoonUnknown ? '–ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –µ–º–æ—Ü—ñ–π–Ω–æ—ó —Å—Ñ–µ—Ä–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –°–æ–Ω—è—á–Ω–æ–≥–æ –∑–Ω–∞–∫—É' : `–Ø–∫ ${userData.moonSign} –ú—ñ—Å—è—Ü—å –≤–ø–ª–∏–≤–∞—î –Ω–∞ –µ–º–æ—Ü—ñ—ó`} (4-5 —Ä–µ—á–µ–Ω—å)",
  "risingDescription": "${isRisingUnknown ? '–ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –ø—Ä–æ—è–≤—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –°–æ–Ω—è—á–Ω–æ–≥–æ –∑–Ω–∞–∫—É' : `–Ø–∫ ${userData.risingSign} –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç —Ñ–æ—Ä–º—É—î –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –æ–±—Ä–∞–∑`} (4-5 —Ä–µ—á–µ–Ω—å)",
  "signsSynergy": "–Ø–∫ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–Ω–∞–∫–∏ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å —Ä–∞–∑–æ–º ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó (4-5 —Ä–µ—á–µ–Ω—å)",
  "personalityOverview": "–ó–∞–≥–∞–ª—å–Ω–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö (5-6 —Ä–µ—á–µ–Ω—å)",
  "hiddenTalents": ["—Ç–∞–ª–∞–Ω—Ç 1 –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º (2 —Ä–µ—á–µ–Ω–Ω—è)", "—Ç–∞–ª–∞–Ω—Ç 2 –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º", "—Ç–∞–ª–∞–Ω—Ç 3 –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º"],
  "lifeLesson": "–ì–æ–ª–æ–≤–Ω–∏–π —É—Ä–æ–∫ —Ü—å–æ–≥–æ –∂–∏—Ç—Ç—è, –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ —Ü—ñ–ª—è–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (3-4 —Ä–µ—á–µ–Ω–Ω—è)",
  "elementAnalysis": "${userData.element ? `–ê–Ω–∞–ª—ñ–∑ —Ç–æ–≥–æ, —â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±—Ä–∞–≤ —Å—Ç–∏—Ö—ñ—é ${userData.element}, –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑—ñ —Å—Ç–∏—Ö—ñ—î—é —Å–≤–æ–≥–æ –°–æ–Ω—è—á–Ω–æ–≥–æ –∑–Ω–∞–∫—É` : '–ê–Ω–∞–ª—ñ–∑ —Å—Ç–∏—Ö—ñ—ó –°–æ–Ω—è—á–Ω–æ–≥–æ –∑–Ω–∞–∫—É —Ç–∞ —ó—ó –≤–ø–ª–∏–≤—É'}",
  "colorMeaning": "${userData.favoriteColor ? `–©–æ –æ–∑–Ω–∞—á–∞—î –≤–∏–±—ñ—Ä –∫–æ–ª—å–æ—Ä—É ${userData.favoriteColor} –¥–ª—è —Ü—ñ—î—ó –ª—é–¥–∏–Ω–∏ —Ç–∞ —è–∫ –≤—ñ–Ω —Ä–µ–∑–æ–Ω—É—î –∑ —ó—Ö –Ω–∞—Ç–∞–ª—å–Ω–æ—é –∫–∞—Ä—Ç–æ—é` : '–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –∫–æ–ª—ñ—Ä –¥–ª—è —Ü—ñ—î—ó –ª—é–¥–∏–Ω–∏ –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º'}",
  "forecast2026": {
    "overall": "–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 2026 –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ü—ñ–ª–µ–π: ${translatedGoals} (5-6 —Ä–µ—á–µ–Ω—å)",
    "keyDates": ["–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –¥–∞—Ç–∞ 1 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ 15 –±–µ—Ä–µ–∑–Ω—è) –∑ –æ–ø–∏—Å–æ–º –ø–æ–¥—ñ—ó", "–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –¥–∞—Ç–∞ 2 –∑ –æ–ø–∏—Å–æ–º", "–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –¥–∞—Ç–∞ 3 –∑ –æ–ø–∏—Å–æ–º"],
    "q1": {
      "title": "–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞ –Ω–∞–∑–≤–∞ –ø–µ—Ä—ñ–æ–¥—É",
      "description": "–ü—Ä–æ–≥–Ω–æ–∑ —Å—ñ—á–µ–Ω—å-–±–µ—Ä–µ–∑–µ–Ω—å –∑ –ö–û–ù–ö–†–ï–¢–ù–ò–ú–ò –¥–∞—Ç–∞–º–∏ —Ç–∞ –ø–æ–¥—ñ—è–º–∏ (5-6 —Ä–µ—á–µ–Ω—å)",
      "focus": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ–æ–∫—É—Å 1", "—Ñ–æ–∫—É—Å 2", "—Ñ–æ–∫—É—Å 3"],
      "advice": "–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞ –ø–æ—Ä–∞–¥–∞ –Ω–∞ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥ (2-3 —Ä–µ—á–µ–Ω–Ω—è)",
      "warning": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ —á–æ–≥–æ —É–Ω–∏–∫–∞—Ç–∏ –≤ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥"
    },
    "q2": {
      "title": "–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞ –Ω–∞–∑–≤–∞ –ø–µ—Ä—ñ–æ–¥—É",
      "description": "–ü—Ä–æ–≥–Ω–æ–∑ –∫–≤—ñ—Ç–µ–Ω—å-—á–µ—Ä–≤–µ–Ω—å –∑ –ö–û–ù–ö–†–ï–¢–ù–ò–ú–ò –¥–∞—Ç–∞–º–∏ —Ç–∞ –ø–æ–¥—ñ—è–º–∏ (5-6 —Ä–µ—á–µ–Ω—å)",
      "focus": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ–æ–∫—É—Å 1", "—Ñ–æ–∫—É—Å 2", "—Ñ–æ–∫—É—Å 3"],
      "advice": "–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞ –ø–æ—Ä–∞–¥–∞ –Ω–∞ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥ (2-3 —Ä–µ—á–µ–Ω–Ω—è)",
      "warning": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ —á–æ–≥–æ —É–Ω–∏–∫–∞—Ç–∏ –≤ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥"
    },
    "q3": {
      "title": "–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞ –Ω–∞–∑–≤–∞ –ø–µ—Ä—ñ–æ–¥—É",
      "description": "–ü—Ä–æ–≥–Ω–æ–∑ –ª–∏–ø–µ–Ω—å-–≤–µ—Ä–µ—Å–µ–Ω—å –∑ –ö–û–ù–ö–†–ï–¢–ù–ò–ú–ò –¥–∞—Ç–∞–º–∏ —Ç–∞ –ø–æ–¥—ñ—è–º–∏ (5-6 —Ä–µ—á–µ–Ω—å)",
      "focus": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ–æ–∫—É—Å 1", "—Ñ–æ–∫—É—Å 2", "—Ñ–æ–∫—É—Å 3"],
      "advice": "–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞ –ø–æ—Ä–∞–¥–∞ –Ω–∞ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥ (2-3 —Ä–µ—á–µ–Ω–Ω—è)",
      "warning": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ —á–æ–≥–æ —É–Ω–∏–∫–∞—Ç–∏ –≤ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥"
    },
    "q4": {
      "title": "–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞ –Ω–∞–∑–≤–∞ –ø–µ—Ä—ñ–æ–¥—É",
      "description": "–ü—Ä–æ–≥–Ω–æ–∑ –∂–æ–≤—Ç–µ–Ω—å-–≥—Ä—É–¥–µ–Ω—å –∑ –ö–û–ù–ö–†–ï–¢–ù–ò–ú–ò –¥–∞—Ç–∞–º–∏ —Ç–∞ –ø–æ–¥—ñ—è–º–∏ (5-6 —Ä–µ—á–µ–Ω—å)",
      "focus": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ–æ–∫—É—Å 1", "—Ñ–æ–∫—É—Å 2", "—Ñ–æ–∫—É—Å 3"],
      "advice": "–ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞ –ø–æ—Ä–∞–¥–∞ –Ω–∞ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥ (2-3 —Ä–µ—á–µ–Ω–Ω—è)",
      "warning": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ —á–æ–≥–æ —É–Ω–∏–∫–∞—Ç–∏ –≤ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥"
    }
  },
  "love": {
    "overview": "–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ª—é–±–æ–≤–Ω–æ—ó —Å—Ñ–µ—Ä–∏ –¥–ª—è ${userData.relationshipStatus || '–Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ'} —Å—Ç–∞—Ç—É—Å—É (5-6 —Ä–µ—á–µ–Ω—å)",
    "strengths": ["–¥–µ—Ç–∞–ª—å–Ω–∞ —Å–∏–ª–∞ —É —Å—Ç–æ—Å—É–Ω–∫–∞—Ö 1", "—Å–∏–ª–∞ 2 –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º", "—Å–∏–ª–∞ 3"],
    "challenges": ["–≤–∏–∫–ª–∏–∫ 1 –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é –ø–æ—Ä–∞–¥–æ—é —è–∫ –ø–æ–¥–æ–ª–∞—Ç–∏", "–≤–∏–∫–ª–∏–∫ 2 –∑ –ø–æ—Ä–∞–¥–æ—é"],
    "idealPartnerTraits": ["—Ä–∏—Å–∞ —ñ–¥–µ–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ 1 –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º", "—Ä–∏—Å–∞ 2", "—Ä–∏—Å–∞ 3", "—Ä–∏—Å–∞ 4"],
    "advice2026": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ—Ä–∞–¥–∏ –Ω–∞ 2026 –¥–ª—è ${userData.relationshipStatus || '—Ü—ñ—î—ó –ª—é–¥–∏–Ω–∏'} –∑ –¥–∞—Ç–∞–º–∏ (4-5 —Ä–µ—á–µ–Ω—å)",
    "bestMonthsForLove": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –º—ñ—Å—è—Ü—å –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º —á–æ–º—É", "–º—ñ—Å—è—Ü—å 2 –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º"],
    "redFlags": ["–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π warning 1 —É —Å—Ç–æ—Å—É–Ω–∫–∞—Ö", "warning 2"]
  },
  "career": {
    "overview": "–ö–∞—Ä'—î—Ä–Ω–∏–π –ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ç–∞–ª–∞–Ω—Ç—ñ–≤ ${userData.sunSign} (5-6 —Ä–µ—á–µ–Ω—å)",
    "strengths": ["–¥–µ—Ç–∞–ª—å–Ω–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ —Å–∏–ª–∞ 1", "—Å–∏–ª–∞ 2 –∑ –ø—Ä–∏–∫–ª–∞–¥–æ–º", "—Å–∏–ª–∞ 3"],
    "idealCareers": ["–ø—Ä–æ—Ñ–µ—Å—ñ—è 1 –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º —á–æ–º—É –ø—ñ–¥—Ö–æ–¥–∏—Ç—å", "–ø—Ä–æ—Ñ–µ—Å—ñ—è 2 –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º", "–ø—Ä–æ—Ñ–µ—Å—ñ—è 3", "–ø—Ä–æ—Ñ–µ—Å—ñ—è 4"],
    "financeTips": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∞ –ø–æ—Ä–∞–¥–∞ 1 –∑ –ø—Ä–∏–∫–ª–∞–¥–æ–º", "–ø–æ—Ä–∞–¥–∞ 2", "–ø–æ—Ä–∞–¥–∞ 3"],
    "opportunities2026": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–∞—Ä'—î—Ä–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —É 2026 –∑ –¥–∞—Ç–∞–º–∏ (4-5 —Ä–µ—á–µ–Ω—å)",
    "warningPeriods": ["–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø–µ—Ä—ñ–æ–¥ –æ–±–µ—Ä–µ–∂–Ω–æ—Å—Ç—ñ –∑ –¥–∞—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –∫–≤—ñ—Ç–µ–Ω—å-—Ç—Ä–∞–≤–µ–Ω—å)", "–ø–µ—Ä—ñ–æ–¥ 2"],
    "actionSteps": ["–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–π –∫—Ä–æ–∫ 1", "–ö—Ä–æ–∫ 2", "–ö—Ä–æ–∫ 3"]
  },
  "lucky": {
    "numbers": [—á–∏—Å–ª–æ1, —á–∏—Å–ª–æ2, —á–∏—Å–ª–æ3],
    "numbersExplanation": "–ß–æ–º—É —Ü—ñ —á–∏—Å–ª–∞ —â–∞—Å–ª–∏–≤—ñ –¥–ª—è —Ü—ñ—î—ó –ª—é–¥–∏–Ω–∏ (2 —Ä–µ—á–µ–Ω–Ω—è)",
    "days": ["–¥–µ–Ω—å —Ç–∏–∂–Ω—è 1", "–¥–µ–Ω—å 2"],
    "daysExplanation": "–ß–æ–º—É —Ü—ñ –¥–Ω—ñ —Å–ø—Ä–∏—è—Ç–ª–∏–≤—ñ (2 —Ä–µ—á–µ–Ω–Ω—è)",
    "colors": ["–∫–æ–ª—ñ—Ä 1", "–∫–æ–ª—ñ—Ä 2", "–∫–æ–ª—ñ—Ä 3"],
    "colorsExplanation": "–Ø–∫ —Ü—ñ –∫–æ–ª—å–æ—Ä–∏ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –µ–Ω–µ—Ä–≥—ñ—é –ª—é–¥–∏–Ω–∏ (2 —Ä–µ—á–µ–Ω–Ω—è)",
    "gems": ["–∫–∞–º—ñ–Ω—å 1", "–∫–∞–º—ñ–Ω—å 2"],
    "gemsExplanation": "–ú–∞–≥—ñ—á–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Ü–∏—Ö –∫–∞–º–µ–Ω—ñ–≤ –¥–ª—è —Ü—å–æ–≥–æ –∑–Ω–∞–∫—É (2 —Ä–µ—á–µ–Ω–Ω—è)",
    "direction": "–Ω–∞–ø—Ä—è–º–æ–∫ —Å–≤—ñ—Ç—É",
    "directionExplanation": "–ß–æ–º—É —Ü–µ–π –Ω–∞–ø—Ä—è–º–æ–∫ —Å–ø—Ä–∏—è—Ç–ª–∏–≤–∏–π (1-2 —Ä–µ—á–µ–Ω–Ω—è)"
  }
}
`.trim();
}

export function buildQuickHoroscopePrompt(sunSign: string, period: 'daily' | 'weekly' | 'monthly'): string {
  const periodText = {
    daily: '—Å—å–æ–≥–æ–¥–Ω—ñ',
    weekly: '—Ü–µ–π —Ç–∏–∂–¥–µ–Ω—å',
    monthly: '—Ü–µ–π –º—ñ—Å—è—Ü—å',
  };

  return `
–¢–∏ ‚Äî –∞—Å—Ç—Ä–æ–ª–æ–≥. –°—Ç–≤–æ—Ä–∏ –∫–æ—Ä–æ—Ç–∫–∏–π, –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–π —Ç–∞ –Ω–∞–¥–∏—Ö–∞—é—á–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è –∑–Ω–∞–∫—É ${sunSign} –Ω–∞ ${periodText[period]}.

–ì–æ—Ä–æ—Å–∫–æ–ø –º–∞—î –±—É—Ç–∏:
- 3-4 —Ä–µ—á–µ–Ω–Ω—è
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º —ñ –∫–æ—Ä–∏—Å–Ω–∏–º
- –ü–æ–∑–∏—Ç–∏–≤–Ω–∏–º, –∞–ª–µ —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–º
- –£–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é

–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —Ç—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç–æ–º –≥–æ—Ä–æ—Å–∫–æ–ø—É, –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è.
`.trim();
}

export function buildCompatibilityPrompt(sign1: string, sign2: string): string {
  return `
–¢–∏ ‚Äî –∞—Å—Ç—Ä–æ–ª–æ–≥-–µ–∫—Å–ø–µ—Ä—Ç –∑ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ. –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –º—ñ–∂ –∑–Ω–∞–∫–∞–º–∏ ${sign1} —Ç–∞ ${sign2}.

–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¢–Ü–õ–¨–ö–ò –≤–∞–ª—ñ–¥–Ω–∏–º JSON –æ–±'—î–∫—Ç–æ–º:
{
  "overallScore": —á–∏—Å–ª–æ –≤—ñ–¥ 1 –¥–æ 100,
  "loveScore": —á–∏—Å–ª–æ –≤—ñ–¥ 1 –¥–æ 100,
  "friendshipScore": —á–∏—Å–ª–æ –≤—ñ–¥ 1 –¥–æ 100,
  "workScore": —á–∏—Å–ª–æ –≤—ñ–¥ 1 –¥–æ 100,
  "strengths": ["—Å–∏–ª—å–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ 1", "—Å–∏–ª—å–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ 2", "—Å–∏–ª—å–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ 3"],
  "challenges": ["–≤–∏–∫–ª–∏–∫ 1", "–≤–∏–∫–ª–∏–∫ 2"],
  "advice": "–ü–æ—Ä–∞–¥–∞ –¥–ª—è —Ü—ñ—î—ó –ø–∞—Ä–∏ (2-3 —Ä–µ—á–µ–Ω–Ω—è)",
  "famousCouples": ["–≤—ñ–¥–æ–º–∞ –ø–∞—Ä–∞ 1", "–≤—ñ–¥–æ–º–∞ –ø–∞—Ä–∞ 2"]
}
`.trim();
}
